<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Page Title</title>
</head>

<body>
    <div id="app">

    </div>
</body>

<!-- .ESM. module! -->>
<script type="importmap">
    {
        "imports": {
          "vue": "/js/unpkg.com_vue@3.3.4_dist_vue.esm-browser.js",  
          "vue3-sfc-loader": "/js/vue3-sfc-loader.esm.js"          
        }
    }
</script>
<script type="module">
    import * as Vue from "vue"
    import { loadModule } from "vue3-sfc-loader"

    const options = {
        moduleCache: { vue: Vue },
        getFile(url) {
            return fetch(url).then(response => response.ok ? response.text() : Promise.reject(response));
        },
        addStyle(styleStr) {
            const style = document.createElement('style');
            style.textContent = styleStr;
            const ref = document.head.getElementsByTagName('style')[0] || null;
            document.head.insertBefore(style, ref);
        },
        log(type, ...args) {
            console.log(type, ...args);
        }
    }

    Vue.createApp({
        components: {
            'my-component': Vue.defineAsyncComponent(() => loadModule('./component/myComponent.vue', options)),
        },
        template: `<my-component></my-component>`
    }).mount('#app');

</script>

</html>